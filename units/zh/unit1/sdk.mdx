# MCP SDK

æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ä¸ºJavaScriptã€Pythonå’Œå…¶ä»–è¯­è¨€æä¾›å®˜æ–¹SDKã€‚è¿™ä½¿å¾—åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­å®ç°MCPå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å˜å¾—å®¹æ˜“ã€‚è¿™äº›SDKå¤„ç†ä½çº§åè®®ç»†èŠ‚ï¼Œè®©æ‚¨å¯ä»¥ä¸“æ³¨äºæ„å»ºåº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚

## SDKæ¦‚è¿°

ä¸¤ç§SDKæä¾›ç±»ä¼¼çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œéµå¾ªæˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„MCPåè®®è§„èŒƒã€‚å®ƒä»¬å¤„ç†ï¼š

- åè®®çº§é€šä¿¡
- èƒ½åŠ›æ³¨å†Œå’Œå‘ç°
- æ¶ˆæ¯åºåˆ—åŒ–/ååºåˆ—åŒ–
- è¿æ¥ç®¡ç†
- é”™è¯¯å¤„ç†

## æ ¸å¿ƒåŸè¯­å®ç°

è®©æˆ‘ä»¬æ¢ç´¢å¦‚ä½•ä½¿ç”¨è¿™ä¸¤ç§SDKå®ç°æ¯ä¸ªæ ¸å¿ƒåŸè¯­ï¼ˆå·¥å…·ã€èµ„æºå’Œæç¤ºï¼‰ã€‚

<hfoptions id="server-implementation">
<hfoption id="python">

<Youtube id="exzrb5QNUis" />

```python
from mcp.server.fastmcp import FastMCP

# åˆ›å»ºMCPæœåŠ¡å™¨
mcp = FastMCP("Weather Service")


@mcp.tool()
def get_weather(location: str) -> str:
    """è·å–æŒ‡å®šä½ç½®çš„å½“å‰å¤©æ°”ã€‚"""
    return f"Weather in {location}: Sunny, 72Â°F"


@mcp.resource("weather://{location}")
def weather_resource(location: str) -> str:
    """æä¾›å¤©æ°”æ•°æ®ä½œä¸ºèµ„æºã€‚"""
    return f"Weather data for {location}: Sunny, 72Â°F"


@mcp.prompt()
def weather_report(location: str) -> str:
    """åˆ›å»ºå¤©æ°”æŠ¥å‘Šæç¤ºã€‚"""
    return f"""You are a weather reporter. Weather report for {location}?"""


# è¿è¡ŒæœåŠ¡å™¨
if __name__ == "__main__":
    mcp.run()

```

</hfoption>
<hfoption id="javascript">

```javascript
import { McpServer, ResourceTemplate } from "@modelcontextprotocol/sdk/server/mcp.js";
import { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js";
import { z } from "zod";

// åˆ›å»ºMCPæœåŠ¡å™¨
const server = new McpServer({
    name: "Weather Service",
    version: "1.0.0"
});

// å·¥å…·å®ç°
server.tool("get_weather",
    { location: z.string() },
    async ({ location }) => ({
        content: [{
            type: "text",
            text: `Weather in ${location}: Sunny, 72Â°F`
        }]
    })
);

// èµ„æºå®ç°
server.resource(
    "weather",
    new ResourceTemplate("weather://{location}", { list: undefined }),
    async (uri, { location }) => ({
        contents: [{
            uri: uri.href,
            text: `Weather data for ${location}: Sunny, 72Â°F`
        }]
    })
);

// æç¤ºå®ç°
server.prompt(
    "weather_report",
    { location: z.string() },
    async ({ location }) => ({
        messages: [
            {
                role: "assistant",
                content: {
                    type: "text",
                    text: "You are a weather reporter."
                }
            },
            {
                role: "user",
                content: {
                    type: "text",
                    text: `Weather report for ${location}?`
                }
            }
        ]
    })
);

// è¿è¡ŒæœåŠ¡å™¨
const transport = new StdioServerTransport();
await server.connect(transport);
```

</hfoption>
</hfoptions>

å®ç°æœåŠ¡å™¨åï¼Œæ‚¨å¯ä»¥é€šè¿‡è¿è¡ŒæœåŠ¡å™¨è„šæœ¬æ¥å¯åŠ¨å®ƒã€‚

```bash
mcp dev server.py
```

è¿™å°†åˆå§‹åŒ–ä¸€ä¸ªè¿è¡Œ`server.py`æ–‡ä»¶çš„å¼€å‘æœåŠ¡å™¨ã€‚å¹¶è®°å½•ä»¥ä¸‹è¾“å‡ºï¼š

```bash
Starting MCP inspector...
âš™ï¸ Proxy server listening on port 6277
Spawned stdio transport
Connected MCP client to backing server transport
Created web app transport
Set up MCP proxy
ğŸ” MCP Inspector is up and running at http://127.0.0.1:6274 ğŸš€
```

ç„¶åï¼Œæ‚¨å¯ä»¥åœ¨[http://127.0.0.1:6274](http://127.0.0.1:6274)æ‰“å¼€MCPæ£€æŸ¥å™¨ï¼ŒæŸ¥çœ‹æœåŠ¡å™¨çš„èƒ½åŠ›å¹¶ä¸ä¹‹äº¤äº’ã€‚

æ‚¨å°†çœ‹åˆ°æœåŠ¡å™¨çš„èƒ½åŠ›ä»¥åŠé€šè¿‡UIè°ƒç”¨å®ƒä»¬çš„åŠŸèƒ½ã€‚

![MCPæ£€æŸ¥å™¨](https://huggingface.co/datasets/mcp-course/images/resolve/main/unit1/6.png)

## MCP SDK

MCPè®¾è®¡ä¸ºä¸è¯­è¨€æ— å…³ï¼Œå¹¶ä¸”æœ‰å‡ ç§æµè¡Œç¼–ç¨‹è¯­è¨€çš„å®˜æ–¹SDKï¼š

| è¯­è¨€ | ä»“åº“ | ç»´æŠ¤è€… | çŠ¶æ€ |
|----------|------------|---------------|--------|
| TypeScript | [github.com/modelcontextprotocol/typescript-sdk](https://github.com/modelcontextprotocol/typescript-sdk) | Anthropic | æ´»è·ƒ |
| Python | [github.com/modelcontextprotocol/python-sdk](https://github.com/modelcontextprotocol/python-sdk) | Anthropic | æ´»è·ƒ |
| Java | [github.com/modelcontextprotocol/java-sdk](https://github.com/modelcontextprotocol/java-sdk) | Spring AI (VMware) | æ´»è·ƒ |
| Kotlin | [github.com/modelcontextprotocol/kotlin-sdk](https://github.com/modelcontextprotocol/kotlin-sdk) | JetBrains | æ´»è·ƒ |
| C# | [github.com/modelcontextprotocol/csharp-sdk](https://github.com/modelcontextprotocol/csharp-sdk) | Microsoft | æ´»è·ƒï¼ˆé¢„è§ˆç‰ˆï¼‰ |
| Swift | [github.com/modelcontextprotocol/swift-sdk](https://github.com/modelcontextprotocol/swift-sdk) | loopwork-ai | æ´»è·ƒ |
| Rust | [github.com/modelcontextprotocol/rust-sdk](https://github.com/modelcontextprotocol/rust-sdk) | Anthropic/ç¤¾åŒº | æ´»è·ƒ |

è¿™äº›SDKæä¾›ç‰¹å®šäºè¯­è¨€çš„æŠ½è±¡ï¼Œç®€åŒ–äº†ä½¿ç”¨MCPåè®®çš„å·¥ä½œï¼Œè®©æ‚¨å¯ä»¥ä¸“æ³¨äºå®ç°æœåŠ¡å™¨æˆ–å®¢æˆ·ç«¯çš„æ ¸å¿ƒé€»è¾‘ï¼Œè€Œä¸æ˜¯å¤„ç†ä½çº§åè®®ç»†èŠ‚ã€‚

## ä¸‹ä¸€æ­¥

æˆ‘ä»¬åªæ˜¯è§¦åŠäº†MCPåŠŸèƒ½çš„è¡¨é¢ï¼Œä½†æ‚¨å·²ç»æˆåŠŸè¿è¡Œäº†ä¸€ä¸ªåŸºæœ¬æœåŠ¡å™¨ã€‚å®é™…ä¸Šï¼Œæ‚¨è¿˜ä½¿ç”¨äº†æµè§ˆå™¨ä¸­çš„MCPå®¢æˆ·ç«¯è¿æ¥åˆ°å®ƒã€‚

åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•ä»LLMè¿æ¥åˆ°æ‚¨çš„æœåŠ¡å™¨ã€‚ 